#.update() or |= :Update the set by adding elements from an iterable/another set.

#.intersection_update() or &= : Update the set by keeping only the elements found in it and an iterable/another set.

# .difference_update() or -= : Update the set by removing elements found in an iterable/another set.

# .symmetric_difference_update() or ^= : Update the set by only keeping the elements found in either set, but not in both.

a = int(input())
set_a = set(map(int, input().split()))
N = int(input())

for i in range(N):
    try:
        line = input().split()
        command = line[0]
        no_of_elements = line[1]
        set_b = set(map(int, input().split()))
    except EOFError:
        break
        
    if command == "intersection_update":
        set_a.intersection_update(set_b)
        
    elif command == "update":
        set_a.update(set_b)
        
    elif command == "symmetric_difference_update":
        set_a.symmetric_difference_update(set_b)
        
    elif command == "difference_update":
        set_a.difference_update(set_b)
    
    total = sum(set_a)

print(total)

